<meta charset="UTF-8">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
<script type="text/javascript" src="./js/crypto.js"></script>

<!-- <h2>1. 鍵ペア生成</h2> -->


<label for="pubkey">公開鍵</label>
<input id="pubkey" name="pubkey"></input>
<br />

<label for="privkey">秘密鍵</label>
<input id="privkey" name="privkey"></input>
<br />

<button onclick="gen_keys()">鍵ペア生成</button>

<script>
    const privKey = document.getElementById('privkey')
    const pubKey = document.getElementById('pubkey')

    const gen_keys = async () => {
        const keypair = await generateRSACipherKey()
        const exported = await encodeKeyPair(keypair)

        privKey.value = exported.priv
        pubKey.value = exported.pub
    }
</script>